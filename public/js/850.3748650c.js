"use strict";(self["webpackChunkissues_page"]=self["webpackChunkissues_page"]||[]).push([[850],{850:function(t,s,e){e.r(s),e.d(s,{default:function(){return C}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"display"},[s("display",{attrs:{id:t.issue_id}})],1)},i=[],o=function(){var t=this,s=t._self._c;return s("div",[s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark navi"},[s("div",{staticClass:"container"},[s("router-link",{staticClass:"home",attrs:{to:"/home"}},[t._v("Issues Page")]),s("ul",{staticClass:"navbar-nav"},[s("li",{staticClass:"nav-item active"},[s("a",{staticClass:"logout",on:{click:t.logUserOut}},[t._v(" Logout")])])])],1)]),s("div",{staticClass:"inner"},[s("div",{staticClass:"is"},[s("h2",[t._v(t._s(t.issue.title))]),s("p",[t._v(t._s(t.issue.desc))]),s("span",{staticClass:"time-tag"},[t._v("Created by "+t._s(t.issue.author.username)+" at "+t._s(t.issue.createdAt.substring(0,10)))])]),t._l(t.issue.comments,(function(e){return s("div",{key:e._id},[s("div",{staticClass:"comment"},[s("h4",[t._v(t._s(e.text))]),s("p",[t._v("Posted by "+t._s(e.author.username))])])])})),t.allowComment?s("div",{staticClass:"addComment"},[s("label",{attrs:{for:"comm"}}),s("editor",{attrs:{"api-key":"x2wa24yd18evrl913zegfr0p5t0d37jbprlqo1jyt2sk8clw",id:"comm","output-format":"text",init:{selector:"#comm",branding:!1,height:300,placeholder:"Enter your comment here."}},model:{value:t.comment.text,callback:function(s){t.$set(t.comment,"text",s)},expression:"comment.text"}}),s("button",{staticClass:"btn btn-primary btn-block w-25 my-4 com",on:{click:t.postComment}},[t._v("Add Comment")])],1):t._e(),t.allowComment?t._e():s("button",{staticClass:"btn btn-primary btn-block w-25 my-4 com",on:{click:t.addComment}},[t._v("New Comment")])],2)])},n=[],l=(e(7658),e(396)),c={props:["id"],data(){return{issue:{},allowComment:!1,comment:{text:"",author:{id:"",username:""}}}},methods:{async getIssueDetails(){try{let t=await this.$http.get(`/issue/Issue?id=${this.id}`);this.issue=t.data.Is}catch(t){console.log(t.message)}},addComment(){this.allowComment=!this.allowComment},async postComment(){try{this.comment.author=this.issue.author;let t=await this.$http.post("/comment/add-comment",this.comment);this.issue.comments.push(t.data.data),this.updateIssue(),this.addComment()}catch(t){console.log(t.message)}},async updateIssue(){try{let t=await this.$http.put("/issue/update-issue",this.issue);console.log("response =>",t)}catch(t){console.log(t.message)}},logUserOut(){localStorage.removeItem("jwt"),this.$router.push("/")}},components:{editor:l.Z},created(){this.getIssueDetails()}},m=c,r=e(1001),u=(0,r.Z)(m,o,n,!1,null,null,null),d=u.exports,h={data(){return{issue_id:""}},components:{display:d},created(){this.issue_id=window.location.search.substring(4)}},p=h,v=(0,r.Z)(p,a,i,!1,null,null,null),C=v.exports}}]);
//# sourceMappingURL=850.3748650c.js.map