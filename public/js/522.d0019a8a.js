"use strict";(self["webpackChunkissues_page"]=self["webpackChunkissues_page"]||[]).push([[522],{3522:function(e,t,s){s.r(t),s.d(t,{default:function(){return y}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"edit_issue"},[t("edit",{attrs:{id:e.issue_id}})],1)},a=[],r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6 offset-lg-3 col-sm-10 offset-sm-1 ci"},[t("h1",{staticClass:"text-center"},[e._v("Edit Issue")]),t("form",{staticClass:"border border-primary p-5",on:{submit:function(t){return t.preventDefault(),e.handleSubmitForm.apply(null,arguments)}}},[t("label",{attrs:{for:"title"}},[e._v("Title ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.issue.title,expression:"issue.title"}],staticClass:"form-control",attrs:{type:"text",name:"title",id:"title",required:"",value:"`${issue.title}`"},domProps:{value:e.issue.title},on:{input:function(t){t.target.composing||e.$set(e.issue,"title",t.target.value)}}}),t("label",{attrs:{for:"desc"}},[e._v("Description")]),t("editor",{attrs:{"api-key":"x2wa24yd18evrl913zegfr0p5t0d37jbprlqo1jyt2sk8clw",plugins:"code lists",id:"desc","output-format":"text",init:{selector:"#desc",branding:!1,height:300,placeholder:"Describe your issue in detail here."}},model:{value:e.issue.desc,callback:function(t){e.$set(e.issue,"desc",t)},expression:"issue.desc"}}),t("center",[t("button",{staticClass:"btn btn-primary btn-block w-50 my-4",attrs:{type:"submit"}},[e._v("Update Issue")])])],1)])])])},u=[],l=(s(7658),s(6737)),n=s.n(l),o=s(396),d=s(6040),c=s.n(d),p={props:["id"],data(){return{issue:{title:"",desc:"",author:{id:"",username:""}}}},methods:{async handleSubmitForm(){try{let e=await this.$http.put(`/issue/edit-issue?id=${this.id}`,this.issue);e.data&&(n()("Success","Issue was updated","success"),this.$router.push("/home"))}catch(e){let t=e.response;409==t.status?n()("Error",t.data.message,"error"):n()("Error",t.data.err.message,"error")}},generateAuth(){let e=localStorage.getItem("jwt"),t=c().decode(e);this.issue.author.id=t._id,this.issue.author.username=t.name},async getIssueDetails(){try{let e=await this.$http.get(`/issue/Issue?id=${this.id}`);this.issue=e.data.Is}catch(e){console.log(e.message)}}},components:{editor:o.Z},created(){this.getIssueDetails(),this.generateAuth()}},h=p,m=s(1001),f=(0,m.Z)(h,r,u,!1,null,null,null),g=f.exports,b={data(){return{issue_id:""}},components:{edit:g},created(){this.issue_id=window.location.search.substring(4)}},v=b,_=(0,m.Z)(v,i,a,!1,null,null,null),y=_.exports}}]);
//# sourceMappingURL=522.d0019a8a.js.map