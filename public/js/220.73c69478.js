"use strict";(self["webpackChunkissues_page"]=self["webpackChunkissues_page"]||[]).push([[220],{8220:function(s,t,e){e.r(t),e.d(t,{default:function(){return C}});var a=function(){var s=this,t=s._self._c;return t("div",{staticClass:"display"},[t("display",{attrs:{id:s.issue_id}})],1)},i=[],o=function(){var s=this,t=s._self._c;return t("div",[t("nav",{staticClass:"navbar navbar-expand-lg navbar-dark navi"},[t("div",{staticClass:"container"},[t("router-link",{staticClass:"home",attrs:{to:"/home"}},[s._v("Issues Page")]),t("ul",{staticClass:"navbar-nav"},[t("li",{staticClass:"nav-item active"},[t("a",{staticClass:"logout",on:{click:s.logUserOut}},[s._v(" Logout")])])])],1)]),t("div",{staticClass:"inner"},[t("div",{staticClass:"is"},[t("h2",[s._v(s._s(s.issue.title))]),t("p",[s._v(s._s(s.issue.desc))]),t("span",{staticClass:"time-tag"},[s._v("Created by "+s._s(s.issue.author.username)+" at "+s._s(s.issue.createdAt.substring(0,10)))])]),s._l(s.issue.comments,(function(e){return t("div",{key:e._id},[t("div",{staticClass:"comment"},[t("h4",[s._v(s._s(e.text))]),t("p",[s._v("Posted by "+s._s(e.author.username))])])])})),s.allowComment?t("div",{staticClass:"addComment"},[t("label",{attrs:{for:"comm"}}),t("editor",{attrs:{"api-key":"x2wa24yd18evrl913zegfr0p5t0d37jbprlqo1jyt2sk8clw",id:"comm","output-format":"text",init:{selector:"#comm",branding:!1,height:300,placeholder:"Enter your comment here."}},model:{value:s.comment.text,callback:function(t){s.$set(s.comment,"text",t)},expression:"comment.text"}}),t("button",{staticClass:"btn btn-primary btn-block w-25 my-4 com",on:{click:s.postComment}},[s._v("Add Comment")])],1):s._e(),s.isIssueResolved?s._e():t("button",{staticClass:"btn btn-primary btn-block w-25 my-4 rs",on:{click:s.markResolved}},[s._v("Mark as Resolved")]),s.allowComment?s._e():t("button",{staticClass:"btn btn-primary btn-block w-25 my-4 com",on:{click:s.addComment}},[s._v("New Comment")])],2)])},n=[],l=(e(7658),e(396)),r={props:["id"],data(){return{issue:{},allowComment:!1,comment:{text:"",author:{id:"",username:""}},isIssueResolved:!1}},methods:{async getIssueDetails(){try{let s=await this.$http.get(`/issue/Issue?id=${this.id}`);this.issue=s.data.Is,this.isIssueResolved=this.issue.resolved}catch(s){console.log(s.message)}},addComment(){this.allowComment=!this.allowComment},async postComment(){try{this.comment.author=this.issue.author;let s=await this.$http.post("/comment/add-comment",this.comment);this.issue.comments.push(s.data.data),this.updateIssue(),this.addComment()}catch(s){console.log(s.message)}},async updateIssue(){try{let s=await this.$http.put("/issue/update-issue",this.issue);console.log("response =>",s)}catch(s){console.log(s.message)}},async markResolved(){this.issue.resolved=!0,this.updateIssue(),this.$router.push("/home")},logUserOut(){localStorage.removeItem("jwt"),this.$router.push("/")}},components:{editor:l.Z},created(){this.getIssueDetails()}},u=r,c=e(1001),m=(0,c.Z)(u,o,n,!1,null,null,null),d=m.exports,h={data(){return{issue_id:""}},components:{display:d},created(){this.issue_id=window.location.search.substring(4)}},p=h,v=(0,c.Z)(p,a,i,!1,null,null,null),C=v.exports}}]);
//# sourceMappingURL=220.73c69478.js.map